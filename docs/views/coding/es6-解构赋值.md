---
layout: post
title: "ğŸš€ES6  è§£æ„èµ‹å€¼"
date: 2018-04-02
categories:
  -  Coding 
tags:
  - ^ECMAScript 6
---
## è§£æ„çš„åˆ†ç±»
1. å¯¹è±¡è§£æ„

2. æ•°ç»„è§£æ„

3. æ··åˆè§£æ„

4. è§£æ„å‚æ•°

## å¯¹è±¡è§£æ„
```js
const obj = {
  str,
  arr:[1,2]
}

const {str = 'power',arr} = obj
//è§£æ„å¯ä¼ é»˜è®¤å€¼
console.log(str,arr) //power,[1,2]
```
### è§£æ„èµ‹å€¼
```js
let business = {
  a:1,
  b:2
},
a = 3,
b = 3
//è§£æ„èµ‹å€¼
({a,b} = business)
console.log(a,b)//1,2
```
### åµŒå¥—å¯¹è±¡è§£æ„
```js
let obj = {
  a:{
    b:{
      c:{
        d:5
      }
    }
  }
}
const {a:{b:{c:{d}}}} = obj
console.log(d)//5
```
### å¯¹è±¡è§£æ„ä¸­çš„ Rest
å¯¹è±¡è§£æ„ä¸­çš„ Rest
Rest/Spread Properties for ECMAScript ææ¡ˆï¼ˆé˜¶æ®µ 4ï¼‰å°† rest è¯­æ³•æ·»åŠ åˆ°è§£æ„ä¸­ã€‚Rest å±æ€§æ”¶é›†é‚£äº›å°šæœªè¢«è§£æ„æ¨¡å¼æ‹¾å–çš„å‰©ä½™å¯æšä¸¾å±æ€§é”®ã€‚
```js
let {a, b, ...rest} = {a: 10, b: 20, c: 30, d: 40}
a; // 10 
b; // 20 
rest; // { c: 30, d: 40 }
```
### æ— æ•ˆçš„ JavaScript æ ‡è¯†ç¬¦ä½œä¸ºå±æ€§åç§°
é€šè¿‡æä¾›æœ‰æ•ˆçš„æ›¿ä»£æ ‡è¯†ç¬¦ï¼Œè§£æ„å¯ä»¥ä¸ä¸æ˜¯æœ‰æ•ˆçš„JavaScriptæ ‡è¯†ç¬¦çš„å±æ€§åç§°ä¸€èµ·ä½¿ç”¨ã€‚
```js
const foo = { 'fizz-buzz': true };
const { 'fizz-buzz': fizzBuzz } = foo;

console.log(fizzBuzz); // "true"
```
### è§£æ„å¯¹è±¡æ—¶ä¼šæŸ¥æ‰¾åŸå‹é“¾ï¼ˆå¦‚æœå±æ€§ä¸åœ¨å¯¹è±¡è‡ªèº«ï¼Œå°†ä»åŸå‹é“¾ä¸­æŸ¥æ‰¾ï¼‰
```js
// å£°æ˜å¯¹è±¡ å’Œ è‡ªèº« self å±æ€§
const obj = {self: '123'};
// åœ¨åŸå‹é“¾ä¸­å®šä¹‰ä¸€ä¸ªå±æ€§ prot
obj.__proto__.prot = '456';
// test
const {self, prot} = obj;
// self "123"
// prot "456"ï¼ˆè®¿é—®åˆ°äº†åŸå‹é“¾ï¼‰
```
## æ•°ç»„è§£æ„

### æ•°ç»„è§£æ„

**é€‰æ‹©æ€§çš„è§£æ„å…ƒç´ ï¼Œä¸éœ€è¦è§£æ„çš„å…ƒç´ å°±ä½¿ç”¨é€—å·ä»£æ›¿`(,)`ã€‚ä¸éœ€è¦åƒå¯¹è±¡è§£æ„ä¸€æ ·ä½¿ç”¨keyå±æ€§ã€‚**
```js
let arr = [1,2,3]
const [a,b,c] = arr
console.log(a,b,c)//1,2,3

let arr2 = [1,2,3]
const [,d] = arr2
console.log(d)//3
```

### è§£æ„èµ‹å€¼
å¦‚æœä½ æ²¡æœ‰çœ‹æ˜ç™½ä¸Šé¢è¯´åˆ°çš„å¯¹è±¡è§£æ„èµ‹å€¼çš„å«ä¹‰ï¼Œé‚£ä¹ˆçœ‹å®Œä¸‹é¢çš„æ•°ç»„è§£æ„èµ‹å€¼ï¼Œæˆ–è®¸ä½ ä¼šæœ‰æ¯”è¾ƒæ¸…æ™°çš„ç†è§£ã€‚

è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ­£å¸¸æƒ…å†µä¸‹æ‰“å°açš„å€¼æ˜¯hahaï¼Œä½†æ˜¯å°†æ•°ç»„arrçš„ç¬¬ä¸€ä¸ªå…ƒç´ è§£æ„èµ‹å€¼ç»™aï¼Œaçš„å€¼å°±å˜æˆäº†1ã€‚
```js
//åˆå§‹åŒ–ä¸€ä¸ªå˜é‡a
let a = "therefore"
//å®šä¹‰ä¸€ä¸ªæ•°ç»„
let arr = [1, 2, 3]
//è§£æ„èµ‹å€¼aï¼Œå°†arræ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ è§£æ„èµ‹å€¼ç»™aï¼Œ
[a] = arr
console.log(a) // 1
```
ä½¿ç”¨è§£æ„èµ‹å€¼ï¼Œè¿˜å¯ä»¥è°ƒæ¢2ä¸ªå˜é‡çš„å€¼ã€‚
```js
let a = 1, b = 2
[a, b] = [b, a]
console.log(a, b) // 2 1
```
### åµŒå¥—æ•°ç»„è§£æ„
```js
let arr = [1,[11,22,33],2,3]
const [a,[b,c,d]] = arr
console.log(a,b,c,d)//1,11,22,33


//åŒäº
"use strict"

var arr = [1, [11, 22, 33], 2, 3]
var a = arr[0],
    _arr$ = arr[1],
    b = _arr$[0],
    c = _arr$[1],
    d = _arr$[2]

console.log(a, b, c, d)//1,11,22,33
//so easy
```
### ä¸å®šå…ƒç´ è§£æ„
```js
//ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦è§£æ„èµ‹å€¼
let arr = [1,2,3,4]
const [...a] = arr
console.log(a)//[1,2,3,4]è¿™ç§åšæ³•å°±æ˜¯å…‹éš†arræ•°ç»„
```
## æ··åˆè§£æ„
```js
let obj = {
  a:{
    aa:1
  },
  b:[2,3]
}
const {
  a:{aa},
  b:[...arr]
} = obj
console.log(aa,b)//1,[2,3]
```
## è§£æ„å‚æ•°
å½“ç»™å‡½æ•°ä¼ é€’å‚æ•°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ¯ä¸ªå‚æ•°è¿›è¡Œè§£æ„ï¼Œæˆ‘ç»™optionçš„å‚æ•°è®¾ç½®äº†é»˜è®¤å€¼ï¼Œè¿™æ ·å¯ä»¥é˜²æ­¢æ²¡æœ‰ç»™optionä¼ å‚å¯¼è‡´çš„æŠ¥é”™æƒ…å†µã€‚
```js
function Ajax(url, options) {
  const {timeout = 0, jsonp = true} = options
  console.log(url, timeout, jsonp)
}
Ajax('baidu.com', {
  timeout: 1000,
  jsonp: false
}) // "baidu.com" 1000 false
```
## æ— å£°æ˜èµ‹å€¼
```js
var a, b
({a, b} = {a: 1, b: 2})
```
:::w
æ³¨æ„ï¼šèµ‹å€¼è¯­å¥å‘¨å›´çš„åœ†æ‹¬å· `( ... )` åœ¨ä½¿ç”¨å¯¹è±¡å­—é¢é‡æ— å£°æ˜è§£æ„èµ‹å€¼æ—¶æ˜¯å¿…é¡»çš„ã€‚

`{a, b} = {a: 1, b: 2}` ä¸æ˜¯æœ‰æ•ˆçš„ç‹¬ç«‹è¯­æ³•ï¼Œå› ä¸ºå·¦è¾¹çš„ `{a, b}` è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå—è€Œä¸æ˜¯å¯¹è±¡å­—é¢é‡ã€‚

ç„¶è€Œï¼Œ`({a, b} = {a: 1, b: 2})` æ˜¯æœ‰æ•ˆçš„ï¼Œæ­£å¦‚ `var {a, b} = {a: 1, b: 2}`

ä½ çš„ `( ... )` è¡¨è¾¾å¼ä¹‹å‰éœ€è¦æœ‰ä¸€ä¸ªåˆ†å·ï¼Œå¦åˆ™å®ƒ**å¯èƒ½**ä¼šè¢«å½“æˆä¸Šä¸€è¡Œä¸­çš„å‡½æ•°æ‰§è¡Œã€‚
:::

## ç»™æ–°çš„å˜é‡åèµ‹å€¼
```js
var o = {p: 42, q: true}
var {p: foo, q: bar} = o
 
console.log(foo) // 42 
console.log(bar) // true 
```
## ç»™æ–°çš„å˜é‡å‘½åå¹¶æä¾›é»˜è®¤å€¼
ä¸€ä¸ªå±æ€§å¯ä»¥åŒæ—¶ 1ï¼‰ä»ä¸€ä¸ªå¯¹è±¡è§£æ„ï¼Œå¹¶åˆ†é…ç»™ä¸€ä¸ªä¸åŒåç§°çš„å˜é‡ 2ï¼‰åˆ†é…ä¸€ä¸ªé»˜è®¤å€¼ï¼Œä»¥é˜²æœªè§£æ„çš„å€¼æ˜¯ `undefinedã€‚`
```js
var {a:aa = 10, b:bb = 5} = {a: 3}

console.log(aa) // 3
console.log(bb) // 5
```
## è§£æ„åµŒå¥—å¯¹è±¡å’Œæ•°ç»„
```js
const metadata = {
  title: 'Scratchpad',
  translations: [
    {
      locale: 'de',
      localization_tags: [],
      last_edit: '2014-04-14T08:43:37',
      url: '/de/docs/Tools/Scratchpad',
      title: 'JavaScript-Umgebung'
    }
  ],
  url: '/en-US/docs/Tools/Scratchpad'
}

let {
  title: englishTitle, // rename
  translations: [
    {
       title: localeTitle, // rename
    },
  ],
} = metadata

console.log(englishTitle) // "Scratchpad"
console.log(localeTitle)  // "JavaScript-Umgebung"
```
## å¯¹è±¡å±æ€§è®¡ç®—åå’Œè§£æ„
è®¡ç®—å±æ€§åï¼Œå¦‚ `object literals`ï¼Œå¯ä»¥è¢«è§£æ„ã€‚
```js
let key = "z"
let { [key]: foo } = { z: "bar" }

console.log(foo) // "bar"
```
## æ€»ç»“
**å¯¹è±¡è§£æ„èµ‹å€¼å’Œæ•°ç»„è§£æ„èµ‹å€¼ï¼Œä»¥åŠå¯¹è±¡å’Œæ•°ç»„æ··åˆæƒ…å†µä¸‹çš„è§£æ„èµ‹å€¼æ“ä½œï¼Œæœ€åä¸€ä¸ªçŸ¥è¯†ç‚¹æ˜¯è§£æ„å‡½æ•°çš„å‚æ•°ã€‚æ¯ä¸€ä¸ªéƒ½æ˜¯é‡ç‚¹ï¼Œç‰¹åˆ«æ˜¯æœ€åä¸€ä¸ªï¼Œè§£æ„å‚æ•°ææ€•ä½ ç»å¸¸åœ¨ç”¨äº†ï¼Œåªæ˜¯é€šå¸¸ä½ æ²¡å‘ç°ã€‚**
